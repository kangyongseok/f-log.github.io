---
title: "JavaScript 실행컨텍스트"
categories: 
  - javascript
tags: 
    - 자바스크립트
    - 자바스크립트기본
    - 기본으로돌아가서
    - 실행컨텍스트
toc: true
toc_sticky: true
comments:  true
---

실행컨텍스트는 자바스크립트 코드의 동작을 이해하는데 있어 숲을 보게 해주는 개념이며 해당 개념에 대해서 제대로 이해한다면 클로저, this, 호이스팅, 스코프, 렉시컬환경 등에 대한 개념들도 쉽게 접근할 수 있습니다.

## 실행컨텍스트
함수가 실행되는 영역입니다. 함수코드를 실행하고 그 결과를 저장하는 영역입니다. 실행컨텍스트는 세가지 단계로 나눌 수 있습니다.
- 준비단계
- 초기화 단계
- 코드 실행 단계
  
실행컨텍스트가 생성되는 시점은 실행가능한 코드를 만났을때인데 함수코드와 글로벌 코드를 만났을때 생성됩니다. 실행 가능한 코드 유형이 분리된 이유는 실행컨텍스트에서 처리방법과 실행환경이 다르기떄문입니다.
- 함수코드 : 렉시컬환경 (정적환경)
- 글로벌코드 : 글로벌환경
  
실행컨텍스트 내부에는 세가지 프로퍼티를 갖는데 렉시컬환경, 변수환경, this 바인딩 을 갖고 각 프로퍼티는 객체로 내부에 또다른 프로퍼티를 갖습니다.

### 렉시컬 환경
함수와 변수의 식별자 해결을 위환 환경을 설정합니다. 함수초기화단계에서 해석한 함수와 변수를 `{key: value}` 형태로 저장하고 이름으로 함수와 변수를 검색할 수 있습니다.  
함수 밖의 함수와 변수를 참조하는 환경을 설정하기때문에 외부함수의 함수와 변수를 사용할 수 있습니다.
  
렉시컬환경에는 다시 환경레코드와 외부 렉시컬 환경참조 객체가 만들어 지는데 환경 레코드에는 함수내부의 함수와 변수를 기록합니다. 외부 렉시컬 환경 참조객체에서는 외부함수의 변수와 함수를 참조합니다. 
실행컨텍스트내에서 함수내부와 외부의 함수, 변수를 사용할 수 있기때문에 실행컨텍스트를 벗어나지않고 처리가 가능합니다.

### 변수 환경
실행컨텍스트 초기화 단계에서 렉시컬 환경과 동일하게 설정합니다. 초기값을 복원할때 사용합니다.  
무슨말이냐면 함수코드가 실행되면 실행결과를 렉시컬 환경 컴포넌트에 설정하게 되는데 그렇게되면 초기에 할당되었던 값과 다른 값을 갖게됩니다. 이때 다시 렉시컬 환경을 초기화 시켜주기위함입니다.
```js
function boo() {
  function get() {
    return point;
  };
  var point = 123;
  return get();
}
console.log(book())
```
